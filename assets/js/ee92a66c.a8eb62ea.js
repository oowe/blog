"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[6318],{3905:function(e,n,t){t.d(n,{Zo:function(){return i},kt:function(){return g}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var m=r.createContext({}),o=function(e){var n=r.useContext(m),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},i=function(e){var n=o(e.components);return r.createElement(m.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},c=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,m=e.parentName,i=u(e,["components","mdxType","originalType","parentName"]),c=o(t),g=a,d=c["".concat(m,".").concat(g)]||c[g]||p[g]||l;return t?r.createElement(d,s(s({ref:n},i),{},{components:t})):r.createElement(d,s({ref:n},i))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,s=new Array(l);s[0]=c;var u={};for(var m in n)hasOwnProperty.call(n,m)&&(u[m]=n[m]);u.originalType=e,u.mdxType="string"==typeof e?e:a,s[1]=u;for(var o=2;o<l;o++)s[o]=t[o];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}c.displayName="MDXCreateElement"},6964:function(e,n,t){t.r(n),t.d(n,{contentTitle:function(){return m},default:function(){return c},frontMatter:function(){return u},metadata:function(){return o},toc:function(){return i}});var r=t(7462),a=t(3366),l=(t(7294),t(3905)),s=["components"],u={},m="Command",o={unversionedId:"Ruby/command",id:"Ruby/command",isDocsHomePage:!1,title:"Command",description:"Reference from https://blog.csdn.net/daily886/article/details/84333958",source:"@site/docs/Ruby/command.md",sourceDirName:"Ruby",slug:"/Ruby/command",permalink:"/blog/docs/Ruby/command",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/Ruby/command.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Command",permalink:"/blog/docs/Postman/command"},next:{title:"Command",permalink:"/blog/docs/Typescript/command"}},i=[{value:"Install RVM",id:"install-rvm",children:[]},{value:"\u4fee\u6539\u5b89\u88dd\u6e90\u70ba Ruby China",id:"\u4fee\u6539\u5b89\u88dd\u6e90\u70ba-ruby-china",children:[]},{value:"<strong>gemset \u7684\u4f7f\u7528</strong>",id:"gemset-\u7684\u4f7f\u7528",children:[{value:"<strong>\u5efa\u7acb gemset</strong>",id:"\u5efa\u7acb-gemset",children:[]},{value:"<strong>use \u53ef\u4ee5\u7528\u6765\u5207\u6362\u8bed\u8a00\u6216\u8005 gemset</strong>",id:"use-\u53ef\u4ee5\u7528\u6765\u5207\u6362\u8bed\u8a00\u6216\u8005-gemset",children:[]},{value:"<strong>\u5217\u51fa\u5f53\u524d Ruby \u7684 gemset</strong>",id:"\u5217\u51fa\u5f53\u524d-ruby-\u7684-gemset",children:[]},{value:"<strong>\u6e05\u7a7a gemset \u4e2d\u7684 Gem</strong>",id:"\u6e05\u7a7a-gemset-\u4e2d\u7684-gem",children:[]},{value:"<strong>\u5220\u9664\u4e00\u4e2a gemset</strong>",id:"\u5220\u9664\u4e00\u4e2a-gemset",children:[]},{value:"<strong>\u9879\u76ee\u81ea\u52a8\u52a0\u8f7d gemset</strong>",id:"\u9879\u76ee\u81ea\u52a8\u52a0\u8f7d-gemset",children:[]}]}],p={toc:i};function c(e){var n=e.components,t=(0,a.Z)(e,s);return(0,l.kt)("wrapper",(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"command"},"Command"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Reference from ",(0,l.kt)("a",{parentName:"strong",href:"https://blog.csdn.net/daily886/article/details/84333958"},"https://blog.csdn.net/daily886/article/details/84333958"))),(0,l.kt)("h3",{id:"install-rvm"},"Install RVM"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install gnupg2\n\ngpg2 --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB\n\ncurl -sSL https://get.rvm.io | bash -s stable\n\nsource ~/.bashrc\n\nrvm -version //1.29.12\n")),(0,l.kt)("h3",{id:"\u4fee\u6539\u5b89\u88dd\u6e90\u70ba-ruby-china"},"\u4fee\u6539\u5b89\u88dd\u6e90\u70ba Ruby China"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'$ echo "ruby_url=https://cache.ruby-china.com/pub/ruby" > ~/.rvm/user/db\n')),(0,l.kt)("p",null,"#disable update from apt-get"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Disable RVM from trying to install necessary software via apt-get\nrvm autolibs disable\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"### Ruby \u7684\u5b89\u88c5\u4e0e\u5207\u6362\n\n\u5217\u51fa\u5df2\u77e5\u7684 Ruby \u7248\u672c\n\n```bash\nrvm list known\n")),(0,l.kt)("p",null,"\u5b89\u88c5\u4e00\u4e2a Ruby \u7248\u672c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rvm install 2.2.0 --disable-binary\n")),(0,l.kt)("p",null,"\u8fd9\u91cc\u5b89\u88c5\u4e86\u6700\u65b0\u7684 2.2.0,\xa0",(0,l.kt)("inlineCode",{parentName:"p"},"rvm list known"),"\xa0 \u5217\u8868\u91cc\u9762\u7684\u90fd\u53ef\u4ee5\u62ff\u6765\u5b89\u88c5\u3002"),(0,l.kt)("p",null,"\u5207\u6362 Ruby \u7248\u672c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rvm use 2.2.0\n")),(0,l.kt)("p",null,"\u5982\u679c\u60f3\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u7248\u672c\uff0c\u8fd9\u6837\u4e00\u6765\u4ee5\u540e\u65b0\u6253\u5f00\u7684\u63a7\u5236\u53f0\u9ed8\u8ba4\u7684 Ruby \u5c31\u662f\u8fd9\u4e2a\u7248\u672c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rvm use 2.2.0 --default\n")),(0,l.kt)("p",null,"\u67e5\u8be2\u5df2\u7ecf\u5b89\u88c5\u7684 ruby"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rvm list\n")),(0,l.kt)("p",null,"\u5378\u8f7d\u4e00\u4e2a\u5df2\u5b89\u88c5\u7248\u672c"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rvm remove 1.8.7\n")),(0,l.kt)("h2",{id:"gemset-\u7684\u4f7f\u7528"},(0,l.kt)("strong",{parentName:"h2"},"gemset \u7684\u4f7f\u7528")),(0,l.kt)("p",null,"RVM \u4e0d\u4ec5\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u591a Ruby \u7248\u672c\u5171\u5b58\u7684\u73af\u5883\uff0c\u8fd8\u53ef\u4ee5\u6839\u636e\u9879\u76ee\u7ba1\u7406\u4e0d\u540c\u7684 gemset."),(0,l.kt)("p",null,"gemset \u53ef\u4ee5\u7406\u89e3\u4e3a\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u865a\u62df Gem \u73af\u5883\uff0c\u6bcf\u4e00\u4e2a gemset \u90fd\u662f\u76f8\u4e92\u72ec\u7acb\u7684\u3002"),(0,l.kt)("p",null,"\u6bd4\u5982\u4f60\u6709\u4e24\u4e2a\u9879\u76ee\uff0c\u4e00\u4e2a\u662f Rails 2.3 \u4e00\u4e2a\u662f \xa0",(0,l.kt)("inlineCode",{parentName:"p"},"rails3. gemset"),"\xa0 \u53ef\u4ee5\u5e2e\u4f60\u4fbf\u6377\u7684\u5efa\u7acb\u4e24\u5957 Gem \u5f00\u53d1\u73af\u5883\uff0c\u5e76\u4e14\u65b9\u4fbf\u7684\u5207\u6362\u3002"),(0,l.kt)("p",null,"gemset \u662f\u9644\u52a0\u5728 Ruby \u8bed\u8a00\u7248\u672c\u4e0b\u9762\u7684\uff0c\u4f8b\u5982\u4f60\u7528\u4e86 1.9.2, \u5efa\u7acb\u4e86\u4e00\u4e2a\u53eb rails3 \u7684 gemset,\u5f53\u5207\u6362\u5230 1.8.7 \u7684\u65f6\u5019\uff0crails3 \u8fd9\u4e2a gemset \u5e76\u4e0d\u5b58\u5728\u3002"),(0,l.kt)("h3",{id:"\u5efa\u7acb-gemset"},(0,l.kt)("strong",{parentName:"h3"},"\u5efa\u7acb gemset")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rvm use 1.8.7\nrvm gemset create rails23\n")),(0,l.kt)("p",null,"\u7136\u540e\u53ef\u4ee5\u8bbe\u5b9a\u5df2\u5efa\u7acb\u7684 gemset \u505a\u4e3a\u5f53\u524d\u73af\u5883"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"use"),"\u4e5f\u53ef\u4ee5\u7701\u7565\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"> rvm 1.8.7\n")),(0,l.kt)("h3",{id:"use-\u53ef\u4ee5\u7528\u6765\u5207\u6362\u8bed\u8a00\u6216\u8005-gemset"},(0,l.kt)("strong",{parentName:"h3"},"use \u53ef\u4ee5\u7528\u6765\u5207\u6362\u8bed\u8a00\u6216\u8005 gemset")),(0,l.kt)("p",null,"\u524d\u63d0\u662f\u4ed6\u4eec\u5df2\u7ecf\u88ab\u5b89\u88c5 (\u6216\u8005\u5efa\u7acb)\u3002\u5e76\u53ef\u4ee5\u5728 \xa0",(0,l.kt)("inlineCode",{parentName:"p"},"list"),"\xa0 \u547d\u4ee4\u4e2d\u770b\u5230\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rvm use 1.8.7\nrvm use 1.8.7@rails23\n\n")),(0,l.kt)("p",null,"\u7136\u540e\u6240\u6709\u5b89\u88c5\u7684 Gem \u90fd\u662f\u5b89\u88c5\u5728\u8fd9\u4e2a gemset \u4e4b\u4e0b\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u60f3\u5207\u56de\u5230\u539f\u4f86\u7cfb\u7d71\u5167\u5efa\u7684\u7248\u672c\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"\n> rvm system\n\n")),(0,l.kt)("h3",{id:"\u5217\u51fa\u5f53\u524d-ruby-\u7684-gemset"},(0,l.kt)("strong",{parentName:"h3"},"\u5217\u51fa\u5f53\u524d Ruby \u7684 gemset")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rvm gemset list\n")),(0,l.kt)("h3",{id:"\u6e05\u7a7a-gemset-\u4e2d\u7684-gem"},(0,l.kt)("strong",{parentName:"h3"},"\u6e05\u7a7a gemset \u4e2d\u7684 Gem")),(0,l.kt)("p",null,"\u5982\u679c\u4f60\u60f3\u6e05\u7a7a\u4e00\u4e2a gemset \u7684\u6240\u6709 Gem, \u60f3\u91cd\u65b0\u5b89\u88c5\u6240\u6709 Gem\uff0c\u53ef\u4ee5\u8fd9\u6837"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"\nrvm gemset empty 1.8.7@rails23\n\n")),(0,l.kt)("p",null,"\u6e05\u7a7a\u53ea\u6703\u628a\u5b89\u88dd\u7684 gem \u780d\u6389\uff0cgemset \u7684\u540d\u5b57\u9084\u6703\u5728\uff1b\u5982\u679c\u60f3\u628a\u6574\u500b gemset \u522a\u6389\uff1a"),(0,l.kt)("h3",{id:"\u5220\u9664\u4e00\u4e2a-gemset"},(0,l.kt)("strong",{parentName:"h3"},"\u5220\u9664\u4e00\u4e2a gemset")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"\nrvm gemset delete rails2-3\n\n")),(0,l.kt)("h3",{id:"\u9879\u76ee\u81ea\u52a8\u52a0\u8f7d-gemset"},(0,l.kt)("strong",{parentName:"h3"},"\u9879\u76ee\u81ea\u52a8\u52a0\u8f7d gemset")),(0,l.kt)("p",null,"RVM \u8fd8\u53ef\u4ee5\u81ea\u52a8\u52a0\u8f7d gemset\u3002 \u4f8b\u5982\u6211\u4eec\u6709\u4e00\u4e2a Rails 3.1.3 \u9879\u76ee\uff0c\u9700\u8981 1.9.3 \u7248\u672c Ruby\uff0c\u6574\u4e2a\u6d41\u7a0b\u53ef\u4ee5\u8fd9\u6837\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"\nrvm install 1.9.3\nrvm use 1.9.3\nrvm gemset create rails313\nrvm use 1.9.3@rails313\n\n")),(0,l.kt)("p",null,"#\u5ffd\u7565\u8b66\u544a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rvm rvmrc warning ignore all.rvmrcs\n")),(0,l.kt)("p",null,"\u4e0b\u9762\u8fdb\u5165\u5230\u9879\u76ee\u76ee\u5f55\uff0c\u5efa\u7acb\u4e00\u4e2a \xa0",(0,l.kt)("inlineCode",{parentName:"p"},".rvmrc"),"\xa0 \u6587\u4ef6\u3002"),(0,l.kt)("p",null,"\u5728\u8fd9\u4e2a\u6587\u4ef6\u91cc\u53ef\u4ee5\u5f88\u7b80\u5355\u7684\u52a0\u4e00\u4e2a\u547d\u4ee4\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rvm use 1.9.3@rails313\n\n")),(0,l.kt)("p",null,"\u7136\u540e\u65e0\u8bba\u4f60\u5f53\u524d Ruby \u8bbe\u7f6e\u662f\u4ec0\u4e48\uff0ccd \u5230\u8fd9\u4e2a\u9879\u76ee\u7684\u65f6\u5019\uff0cRVM \u4f1a\u5e2e\u4f60\u52a0\u8f7d Ruby 1.9.3 \u548c rails313 gemset."),(0,l.kt)("p",null,"#rvm \u4f7f\u7528\u67b6\u69cb"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"(1) \u53ea\u5728rvm install ruby\u7248\u672c\n(2) \u5efa\u7acbgemset\u74b0\u5883\n(3) \u5207\u63db\u5230gemset\u74b0\u5883\uff0c\u5728\u88e1\u9762\u5b89\u88dd\u6240\u9700\u7684\u5176\u4ed6\u74b0\u5883(example: jruby, rails)\n")),(0,l.kt)("p",null,"#\u5b89\u88dd\u7279\u5b9a\u7248\u672c\u7684\u5957\u4ef6"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"gem install rails -v='3.0.6' --no-rdoc --no-ri\n")),(0,l.kt)("p",null,"#rvm info"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'rvm info\n\nruby-2.7.2@vtn1:\n\n  system:\n    uname:        "Linux PC 5.13.0-35-generic #40~20.04.1-Ubuntu SMP Mon Mar 7 09:18:32 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux"\n    name:         "Ubuntu"\n    version:      "20.04"\n    architecture: "x86_64"\n    bash:         "/usr/bin/bash => GNU bash, version 5.0.17(1)-release (x86_64-pc-linux-gnu)"\n    zsh:          "/usr/bin/zsh => zsh 5.8 (x86_64-ubuntu-linux-gnu)"\n    remote_path:  "ubuntu/20.04/x86_64"\n\n  rvm:\n    version:      "1.29.12 (latest)"\n    updated:      "57 minutes 9 seconds ago"\n    path:         "/home/torquebox/.rvm"\n    autolibs:     "[disable] Limit RVM automation as much as possible."\n\n  ruby:\n    interpreter:  "ruby"\n    version:      "2.7.2p137"\n    date:         "2020-10-01"\n    platform:     "x86_64-linux"\n    patchlevel:   "2020-10-01 revision 5445e04352"\n    full_version: "ruby 2.7.2p137 (2020-10-01 revision 5445e04352) [x86_64-linux]"\n')),(0,l.kt)("p",null,"#\u89e3\u6c7a rake assets:precompile \u9047\u5230\u7684\u554f\u984c"),(0,l.kt)("p",null,"gem uninstall -i /home/torquebox/.rvm/gems/jruby-9.2.9.0@global executable-hooks"),(0,l.kt)("p",null,"gem uninstall -i /home/torquebox/.rvm/gems/jruby-9.2.9.0@global did_you_mean"),(0,l.kt)("p",null,"bundle update rake"),(0,l.kt)("p",null,"#RVM is not a function, selecting rubies with 'rvm use ...' will not work."),(0,l.kt)("p",null,"solve:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"source ~/.rvm/scripts/rvm\n")),(0,l.kt)("p",null,"#uninstall rvm"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"rvm implode\nyes\n")))}c.isMDXComponent=!0}}]);