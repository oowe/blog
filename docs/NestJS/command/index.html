<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/blog/rss.xml" title="OOWE&#39;s Blog Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/blog/atom.xml" title="OOWE&#39;s Blog Blog Atom Feed"><title data-react-helmet="true">Command | OOWE&#x27;s Blog</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://oowe.github.io/blog/docs/NestJS/command"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Command | OOWE&#x27;s Blog"><meta data-react-helmet="true" name="description" content="Reference from https://dev.to/santypk4/bulletproof-node-js-project-architecture-4epf"><meta data-react-helmet="true" property="og:description" content="Reference from https://dev.to/santypk4/bulletproof-node-js-project-architecture-4epf"><link data-react-helmet="true" rel="shortcut icon" href="/blog/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://oowe.github.io/blog/docs/NestJS/command"><link data-react-helmet="true" rel="alternate" href="https://oowe.github.io/blog/docs/NestJS/command" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://oowe.github.io/blog/docs/NestJS/command" hreflang="x-default"><link rel="stylesheet" href="/blog/assets/css/styles.adc17638.css">
<link rel="preload" href="/blog/assets/js/runtime~main.79a68877.js" as="script">
<link rel="preload" href="/blog/assets/js/main.6b04cab1.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/blog/"><img src="/blog/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/blog/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">OOWE</b></a><a class="navbar__item navbar__link navbar__link--active" href="/blog/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/blog/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/oowe" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorial - Basics</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorial - Extras</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">AWS</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">AlmaLinux</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Althttpd</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Angular</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Django</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Docker</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Docusaurus2</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Git</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Github</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Java</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Logger</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Markdown</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">MySQL Workbench</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">MySQL</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">NestJS</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/blog/docs/NestJS/command">Command</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/NestJS/jest">Jest</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/NestJS/restful-api">RESTful API</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/blog/docs/NestJS/typeorm">TypeORM</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">NodeJS</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">OpenADR</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Oracle VM VirtualBox</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">PostgreSQL</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Postman</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Python</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Ruby</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Shell Script</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">TLS</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Typescript</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Ubuntu</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Visual Studio Code</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Visual Studio</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Wireshark</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">XML</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Command</h1></header><p><strong>Reference from <a href="https://dev.to/santypk4/bulletproof-node-js-project-architecture-4epf" target="_blank" rel="noopener noreferrer">https://dev.to/santypk4/bulletproof-node-js-project-architecture-4epf</a></strong></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="å¥½ç”¨å·¥å…·"></a>å¥½ç”¨å·¥å…·<a class="hash-link" href="#å¥½ç”¨å·¥å…·" title="Direct link to heading">#</a></h3><ul><li>Json formatter (for chrome)</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="nest-æŒ‡ä»¤"></a>nest æŒ‡ä»¤<a class="hash-link" href="#nest-æŒ‡ä»¤" title="Direct link to heading">#</a></h3><ul><li>å®‰è£ cli</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -g @nestjs/cli</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>å»ºç«‹å°ˆæ¡ˆ</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">  nest new nest-crash-course</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>é‹è¡Œç¨‹å¼</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run start:dev</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>å»ºç«‹</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i generate</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ¨¡çµ„</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">  nest g mo </span><span class="token function" style="color:#d73a49">users</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ§åˆ¶å™¨</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">  nest g co </span><span class="token function" style="color:#d73a49">users</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æœå‹™</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">  nest g </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">users</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="ä¸‰å±¤æ¶æ§‹"></a>ä¸‰å±¤æ¶æ§‹<a class="hash-link" href="#ä¸‰å±¤æ¶æ§‹" title="Direct link to heading">#</a></h3><p>å¯åˆ†æˆ Controller, Service Layer, Data Access Layer</p><ul><li><p>Controller</p><ul><li>è² è²¬è·¯ç”± get, post, put, delete, patchï¼ˆRESTful apiï¼‰</li><li>æ­£ç¢ºèˆ‡éŒ¯èª¤éŸ¿æ‡‰<ul><li>200 success</li><li>404 not found</li><li>500 internal server error</li></ul></li></ul></li><li><p>Service Layer</p><ul><li>è² è²¬é‚è¼¯</li><li>èˆ‡è³‡æ–™åº«æºé€šçš„ code</li></ul></li><li><p>Data Access Layer</p><ul><li>è³‡æ–™åº«çš„é€£çµèˆ‡å­˜å–</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="æ“ä½œ"></a>æ“ä½œ<a class="hash-link" href="#æ“ä½œ" title="Direct link to heading">#</a></h3><ul><li>åœ¨@Controller(&#x27;app&#x27;) åŠ ä¸Š app<ul><li>ä»£è¡¨å°‡æ‰€æœ‰è·¯ç”±çŒä¸Š app å­—çœ¼</li></ul></li><li>åœ¨ nestjs å…§æœ‰å¾ˆå¤šè£é£¾å™¨ï¼Œå¯ä»¥æ–¹ä¾¿ä½¿ç”¨</li><li>åœ¨@Get(&#x27;hello&#x27;)åŠ ä¸Š hello<ul><li>ä»£è¡¨åœ¨ get è·¯ç”±è¦åŠ ä¸Š hello çš„å‰ç¶´æ‰èƒ½è¨ªå•åˆ°</li></ul></li><li>@Module{ imports: [users] }<ul><li>ç•¶ä½ å»ºç«‹ä¸€å€‹æ–°çš„ module å®ƒå¿…é ˆè¢« import é€²ä¾†æ‰èƒ½ä½¿ç”¨</li></ul></li><li>controller.spec.ts<ul><li>spec.ts çµå°¾çš„æª”æ¡ˆç”¨åœ¨æ¸¬è©¦ä½¿ç”¨</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="difference-between-npm-i---save-and-npm-i---save-dev"></a>Difference between &#x27;npm i --save&#x27; and &#x27;npm i --save-dev&#x27;<a class="hash-link" href="#difference-between-npm-i---save-and-npm-i---save-dev" title="Direct link to heading">#</a></h3><p>dependenciesï¼šä½ ç”¨äº†ä»€éº¼å¥—ä»¶ (ç”¢å“é‹è¡Œè¦çš„å¥—ä»¶)
devDependenciesï¼šä½ åªæœ‰åœ¨é–‹ç™¼æˆ–æ¸¬è©¦çš„æ™‚å€™éœ€è¦çš„å¥—ä»¶ (é–‹ç™¼æ¸¬è©¦æ™‚å€™éœ€è¦ç”¨çš„)
åœ¨ npm v5.0.0 ä¹‹å¾Œï¼Œ--save å·²ç¶“æˆç‚ºé è¨­æŒ‡ä»¤
npm install -save == npm install</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="npm-install--g-å…¨åŸŸå®‰è£"></a>npm install -g (å…¨åŸŸå®‰è£)<a class="hash-link" href="#npm-install--g-å…¨åŸŸå®‰è£" title="Direct link to heading">#</a></h3><p>å¦‚æœæ²’æœ‰æ‰“-g æŒ‡ä»¤çš„è©±åªæœƒå®‰è£åœ¨ node_module å…§
å¦‚æœæœ‰æ‰“çš„è©±ï¼Œç›´æ¥åœ¨ terminal ä¸Šå°±å¯ä»¥åŸ·è¡ŒæŒ‡ä»¤
example: sudo npm install -g jest
ä½ åœ¨ terminal ä¸‹ jest å°±å¯ä»¥ä½¿ç”¨
è‹¥è¦ç§»é™¤çš„è©±éœ€è¦ä¸‹ sudo npm uninstall -g jest</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="npm-init"></a>npm init<a class="hash-link" href="#npm-init" title="Direct link to heading">#</a></h3><p>npm init åŸ·è¡Œçš„å‹•ä½œå¾ˆç°¡å–®
é‚£å°±åªæ˜¯å¹«æˆ‘å€‘å‰µå»º package.json çš„ boilerplate</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="npm-install-åŠ-packagejson-çš„ç”¨é€”"></a>npm install åŠ package.json çš„ç”¨é€”<a class="hash-link" href="#npm-install-åŠ-packagejson-çš„ç”¨é€”" title="Direct link to heading">#</a></h3><p>node_module çš„èª•ç”Ÿæ˜¯å› ç‚ºï¼Œç›¸åŒå¥—ä»¶ for ä¸åŒå°ˆæ¡ˆï¼Œæœ‰æ™‚å¾Œæœ‰ä¸èƒ½å…±ç”¨çš„å•é¡Œ
å„ªé»: è³‡æ–™å¤¾ç¨ç«‹ï¼Œæ¨¡çµ„ç®¡ç†æ–¹ä¾¿
ç¼ºé»: ä½”ç”¨ç©ºé–“å¤š
åŸºæ–¼é€™å€‹ç¼ºé»ï¼Œåªéœ€è¦è¤‡è£½åŸå§‹ç¢¼å’Œ package.jsonï¼Œåˆ°æ–°çš„é›»è…¦ï¼Œé‡æ–° npm installã€‚</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="package-lockjson-çš„ç”¨é€”"></a>package-lock.json çš„ç”¨é€”<a class="hash-link" href="#package-lockjson-çš„ç”¨é€”" title="Direct link to heading">#</a></h3><p>ä¾ç…§ package.json æ‰€å®‰è£çš„å¥—ä»¶ï¼Œä¹Ÿæœƒå®‰è£ dependies çš„å¥—ä»¶ï¼Œè€Œé€™äº›ç‰ˆæœ¬è™Ÿæœƒè¢«ç´€éŒ„åœ¨ package-lock.jsonã€‚
æ›´æ–°çš„æŒ‡ä»¤åŒ…å« npm install / uninstall /update éƒ½æœƒå»æ›´æ–°</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="module-controller-and-service"></a>Module, Controller and Service<a class="hash-link" href="#module-controller-and-service" title="Direct link to heading">#</a></h3><p>åœ¨ nestjs å…§ï¼Œä¸åŒçš„åŠŸèƒ½æœƒå»ºç«‹åœ¨ä¸åŒçš„ Module ä¸Š
æ¯å€‹ Module æœƒæœ‰ä¸€å€‹ Controller åš routing é€™ä»¶äº‹æƒ…
å†ç”¨ä¸€å€‹æˆ–å¤šå€‹ Service æŠŠè¤‡é›œçš„é‹ç®—åŠåŠŸèƒ½å¯«æˆ function</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="defult-script-in-packagejson"></a>Defult script in package.json<a class="hash-link" href="#defult-script-in-packagejson" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;scripts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;prebuild&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rimraf dist&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;build&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nest build&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;format&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;prettier --write \&quot;src/**/*.ts\&quot; \&quot;test/**/*.ts\&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;start&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nest start&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;start:dev&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nest start --watch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;start:debug&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nest start --debug --watch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;start:prod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;node dist/main&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;lint&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;eslint \&quot;{src,apps,libs,test}/**/*.ts\&quot; --fix&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;test&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;jest&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;test:watch&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;jest --watch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;test:cov&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;jest --coverage&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;test:debug&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;test:e2e&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;jest --config ./test/jest-e2e.json&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="npm-build"></a>npm build<a class="hash-link" href="#npm-build" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> ç­‰æ–¼ nest build</span></span><span class="token-line" style="color:#393A34"><span class="token plain">æ˜¯å°‡ dist è³‡æ–™å¤¾å»ºå‡ºä¾†</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="spects-æª”æ¡ˆ"></a>.spec.ts æª”æ¡ˆ<a class="hash-link" href="#spects-æª”æ¡ˆ" title="Direct link to heading">#</a></h3><p>.spec æˆ–.test çµå°¾çš„æª”æ¡ˆæ˜¯ç”¨ä¾†åš Jest æ¸¬è©¦ä½¿ç”¨çš„
//é‡å°æ§åˆ¶å™¨çš„å–®å…ƒæ¸¬è©¦</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="linux-æŒ‡ä»¤"></a>linux æŒ‡ä»¤<a class="hash-link" href="#linux-æŒ‡ä»¤" title="Direct link to heading">#</a></h3><p>./ ç•¶å‰ç›®éŒ„
../ ä¸Šä¸€å±¤</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="å»ºç«‹-module"></a>å»ºç«‹ module<a class="hash-link" href="#å»ºç«‹-module" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">nest g mo </span><span class="token function" style="color:#d73a49">users</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">nest g co </span><span class="token function" style="color:#d73a49">users</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">nest g resource </span><span class="token function" style="color:#d73a49">users</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="problem-å¸¸ç™¼ç”Ÿçš„å•é¡Œ"></a>Problem ï¼ˆå¸¸ç™¼ç”Ÿçš„å•é¡Œ)<a class="hash-link" href="#problem-å¸¸ç™¼ç”Ÿçš„å•é¡Œ" title="Direct link to heading">#</a></h3><p><strong>Reference from <a href="https://ithelp.ithome.com.tw/articles/10242768" target="_blank" rel="noopener noreferrer">https://ithelp.ithome.com.tw/articles/10242768</a></strong>
Nest can&#x27;t resolve dependencies of the AppController (AppService, ?). Please make sure that the argument StudentService at index [1] is available in the AppModule context.</p><p>è§£æ±ºæ–¹å¼: é€šå¸¸æ˜¯ AppService æ²’æœ‰è¢« import åˆ° app module å…§</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="file-upload"></a>File upload<a class="hash-link" href="#file-upload" title="Direct link to heading">#</a></h3><ul><li><p>å®‰è£å¥—ä»¶: npm i -D @types/multer</p></li><li><p>è™•ç†è³‡æ–™æ ¼å¼: multipart/form-data</p><ul><li><strong>Reference from <a href="https://blog.kalan.dev/2021-03-13-html-form-data/" target="_blank" rel="noopener noreferrer">https://blog.kalan.dev/2021-03-13-html-form-data/</a></strong></li><li>ä¸€èˆ¬çš„ Content-Type å¾€å¾€åªèƒ½å‚³é€ä¸€ç¨®å½¢å¼çš„è³‡æ–™ï¼Œä½†åœ¨ç¶²é çš„æ‡‰ç”¨ç•¶ä¸­æˆ‘å€‘é‚„å¯èƒ½æƒ³è¦ä¸Šå‚³æª”æ¡ˆã€åœ–ç‰‡ã€å½±ç‰‡åœ¨è¡¨å–®è£¡é ­ï¼Œé€™æ¨£çš„éœ€æ±‚ä¿ƒæˆäº† multipart/form-data è¦ç¯„çš„å‡ºç¾</li></ul></li><li><p>å‚³éæ–¹å¼: POST æ–¹æ³•</p></li><li><p>è¦ä¸Šå‚³å–®å€‹æ–‡ä»¶ï¼Œåªéœ€å°‡ FileInterceptor()æ””æˆªå™¨ç¶å®šåˆ°è·¯ç”±è™•ç†ç¨‹åºä¸¦ file å¾ requestusing@UploadedFile()è£é£¾å™¨ä¸­æå–ã€‚</p></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">Body</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Controller</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Delete</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Get</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Param</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Post</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token maybe-class-name">UploadedFile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">UseInterceptors</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@nestjs/common&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Post</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;upload&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">UseInterceptors</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function maybe-class-name" style="color:#d73a49">FileInterceptor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;file&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">uploadFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">UploadedFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> file</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Express</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">Multer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token maybe-class-name">File</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ä½¿ç”¨ postmanï¼Œåœ¨ body é é¸æ“‡ form-dataï¼Œè¼¸å…¥ key çˆ² fileï¼Œé¸æ“‡ä¸€å€‹æª”æ¡ˆï¼Œç›´æ¥ sand å³å¯</p><p>Q:ERROR [ExceptionsHandler] Multipart: Boundary not found
A:ä¸éœ€è¦é‡è¤‡è¨­ç½® Content-Type: mutipart/form-data å¦å‰‡å¯èƒ½æœƒè¦†è“‹åŸæœ‰çš„ï¼Œ é€ æˆéé æœŸçš„éŒ¯èª¤</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="å°‡-file-çš„å€¼è®€å‡ºä¾†"></a>å°‡ file çš„å€¼è®€å‡ºä¾†<a class="hash-link" href="#å°‡-file-çš„å€¼è®€å‡ºä¾†" title="Direct link to heading">#</a></h3><p>file.buffer æ˜¯æª”æ¡ˆçš„å…§å®¹çš„å€¼ï¼Œå‹æ…‹çˆ² object
å…ˆè½‰æˆ string çš„å½¢æ…‹ï¼Œå†è½‰æˆ Json æ ¼å¼è®€å‡º</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> data_string </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data_string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> data_string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> data_json </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data_string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data_json</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> data_json</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data_json</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;username&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> fieldname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;file&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  originalname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;example.json&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  encoding</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;7bit&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  mimetype</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;application/json&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  buffer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Buffer</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">7b</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">0a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">09</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">22</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">66</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">69</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">72</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">73</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">74</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">4e</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">61</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">6d</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">65</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">22</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">3a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">20</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">22</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">61</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">61</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">72</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">6f</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">6e</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">22</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">2c</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">0a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">09</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">22</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">6c</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">61</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">73</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">74</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">4e</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">61</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">6d</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">65</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">22</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">3a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">20</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">22</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">63</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">68</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">61</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">6e</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">67</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">22</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">0a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">7d</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">0a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  size: 48 }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é‘°åŒ™ æè¿° ç­†è¨˜<br>
fieldname è¡¨å–®ä¸­æŒ‡å®šçš„å­—æ®µåç¨±<br>
originalname ç”¨æˆ¶è¨ˆç®—æ©Ÿä¸Šçš„æ–‡ä»¶å<br>
encoding æ–‡ä»¶çš„ç·¨ç¢¼é¡å‹<br>
mimetype æ–‡ä»¶çš„ MIME é¡å‹<br>
size æ–‡ä»¶çš„å¤§å°ï¼ˆä»¥å­—ç¯€ç‚ºå–®ä½ï¼‰<br>
destination ä¿å­˜æ–‡ä»¶çš„æ–‡ä»¶å¤¾ DiskStorage<br>
filename å…§çš„æ–‡ä»¶å destination DiskStorage<br>
path ä¸Šå‚³æ–‡ä»¶çš„å®Œæ•´è·¯å¾‘ DiskStorage<br>
buffer ABuffer æ•´å€‹æ–‡ä»¶ MemoryStorage</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="entity-ç´€éŒ„"></a>@Entity ç´€éŒ„<a class="hash-link" href="#entity-ç´€éŒ„" title="Direct link to heading">#</a></h3><ul><li>@Entity()æ˜¯å°‡è³‡æ–™è¡¨å¯¦é«”åŒ–æˆè³‡æ–™åº«çš„ table</li><li>@Entity(&#x27;table_name&#x27;) åŠ @Entity({name:&#x27;table_name&#x27;})å¯ä»¥å‘½å table çš„ name<ul><li>è‹¥ç•™ç©ºç™½ï¼Œæ˜¯ä»¥ class name ç•¶ä½œ table name</li><li>class name æ˜¯ä»¥å¤§å¯«çˆ²åˆ†éš”_ï¼Œã€€ example: &#x27;sceneScheduleEntity&#x27;å‰‡ç‚º&#x27;scene_schedule_entity&#x27;</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="æª”æ¡ˆå‘½åè¦å‰‡"></a>æª”æ¡ˆå‘½åè¦å‰‡<a class="hash-link" href="#æª”æ¡ˆå‘½åè¦å‰‡" title="Direct link to heading">#</a></h3><ul><li>nestjs çš„æª”åé€šå¸¸å‘½åçˆ² filename.åŠŸèƒ½.tsï¼Œ example: archive.entity.ts</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="import-service"></a>Import service<a class="hash-link" href="#import-service" title="Direct link to heading">#</a></h3><p><strong>è‹¥ A service è¦ import B service éœ€è¦åšä»¥ä¸‹æ­¥é©Ÿ</strong></p><ol><li>åœ¨ A service çš„ constructor å¯¦é«”åŒ–ç‰©ä»¶ &quot;private readonly logger: EmsLogger&quot;</li><li>åœ¨ A module &quot;imports:[B module]&quot;</li><li>åœ¨ B module è¼¸å‡º sevice &quot;exports: [B Service]&quot;</li><li>å®Œæˆ</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="nestjs-æ¦‚å¿µ"></a>Nestjs æ¦‚å¿µ<a class="hash-link" href="#nestjs-æ¦‚å¿µ" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">main.ts -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> app.module -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> app.controller -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> app.service</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="ç¨‹å¼é€²å…¥é»maints"></a>ç¨‹å¼é€²å…¥é»(main.ts)<a class="hash-link" href="#ç¨‹å¼é€²å…¥é»maints" title="Direct link to heading">#</a></h3><ul><li>bootstarp() å‘¼å« function bootstarp()å†å‘¼å« function parseCli<ul><li>è‹¥ state=cofig æœƒå‘¼å« function configApp()</li><li>è‹¥ state=dcs æœƒå‘¼å« function DataCollectionApp()</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="é‡è·‘-migrations-çš„æ–¹æ³•"></a>é‡è·‘ migrations çš„æ–¹æ³•<a class="hash-link" href="#é‡è·‘-migrations-çš„æ–¹æ³•" title="Direct link to heading">#</a></h3><p>migrations çš„æ¦‚å¿µæ˜¯ï¼Œæœ‰è·‘éçš„æœƒè¨˜éŒ„åœ¨ migrations tableï¼Œç•¶ä¸‹æ¬¡ç¨‹å¼é‹è¡Œçš„æ™‚å€™ï¼Œæœƒå…ˆæª¢æŸ¥æœ‰æ²’æœ‰è·‘éï¼Œè‹¥æœ‰å°±ä¸æœƒåœ¨è·‘äº†ï¼Œæ‰€ä»¥è¨˜å¾—è¦ç ç´€éŒ„ã€‚</p><ol><li>ç ç´€éŒ„</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">select *  from `migrations`;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">delete from `migrations` where id={id};</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="2"><li>ä¿®æ”¹ migrations æª”æ¡ˆ</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">   å»ºç«‹ä¸€å€‹æ–°çš„æª”æ¡ˆï¼Œè£¡é¢è¦æœ‰ up å’Œ down function</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   è‹¥æ˜¯ä¿®æ”¹èˆŠçš„æª”æ¡ˆï¼Œè¦æŠŠä¸éœ€è¦é‡è·‘çš„åœ°æ–¹è¨»è§£æ‰ï¼Œä¸ç„¶ç›¸åŒçš„è³‡æ–™æœƒé‡è¤‡ insert</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="class-validator"></a>Class-validator<a class="hash-link" href="#class-validator" title="Direct link to heading">#</a></h3><p><strong>Reference from <a href="https://github.com/typestack/class-validator" target="_blank" rel="noopener noreferrer">https://github.com/typestack/class-validator</a></strong></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="ç›®çš„"></a>ç›®çš„<a class="hash-link" href="#ç›®çš„" title="Direct link to heading">#</a></h3><p>åˆ©ç”¨ DTO æª¢æŸ¥è¼¸å…¥çš„è³‡æ–™æ ¼å¼ï¼Œæ˜¯å¦ç¬¦åˆé æœŸã€‚</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="install-class-validator"></a>Install class-validator<a class="hash-link" href="#install-class-validator" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i --save class-validator class-transformer</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/docs/NestJS/command.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/docs/MySQL/document"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Document</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/docs/NestJS/jest"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Jest Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å¥½ç”¨å·¥å…·" class="table-of-contents__link">å¥½ç”¨å·¥å…·</a></li><li><a href="#nest-æŒ‡ä»¤" class="table-of-contents__link">nest æŒ‡ä»¤</a></li><li><a href="#ä¸‰å±¤æ¶æ§‹" class="table-of-contents__link">ä¸‰å±¤æ¶æ§‹</a></li><li><a href="#æ“ä½œ" class="table-of-contents__link">æ“ä½œ</a></li><li><a href="#difference-between-npm-i---save-and-npm-i---save-dev" class="table-of-contents__link">Difference between &#39;npm i --save&#39; and &#39;npm i --save-dev&#39;</a></li><li><a href="#npm-install--g-å…¨åŸŸå®‰è£" class="table-of-contents__link">npm install -g (å…¨åŸŸå®‰è£)</a></li><li><a href="#npm-init" class="table-of-contents__link">npm init</a></li><li><a href="#npm-install-åŠ-packagejson-çš„ç”¨é€”" class="table-of-contents__link">npm install åŠ package.json çš„ç”¨é€”</a></li><li><a href="#package-lockjson-çš„ç”¨é€”" class="table-of-contents__link">package-lock.json çš„ç”¨é€”</a></li><li><a href="#module-controller-and-service" class="table-of-contents__link">Module, Controller and Service</a></li><li><a href="#defult-script-in-packagejson" class="table-of-contents__link">Defult script in package.json</a></li><li><a href="#npm-build" class="table-of-contents__link">npm build</a></li><li><a href="#spects-æª”æ¡ˆ" class="table-of-contents__link">.spec.ts æª”æ¡ˆ</a></li><li><a href="#linux-æŒ‡ä»¤" class="table-of-contents__link">linux æŒ‡ä»¤</a></li><li><a href="#å»ºç«‹-module" class="table-of-contents__link">å»ºç«‹ module</a></li><li><a href="#problem-å¸¸ç™¼ç”Ÿçš„å•é¡Œ" class="table-of-contents__link">Problem ï¼ˆå¸¸ç™¼ç”Ÿçš„å•é¡Œ)</a></li><li><a href="#file-upload" class="table-of-contents__link">File upload</a></li><li><a href="#å°‡-file-çš„å€¼è®€å‡ºä¾†" class="table-of-contents__link">å°‡ file çš„å€¼è®€å‡ºä¾†</a></li><li><a href="#entity-ç´€éŒ„" class="table-of-contents__link">@Entity ç´€éŒ„</a></li><li><a href="#æª”æ¡ˆå‘½åè¦å‰‡" class="table-of-contents__link">æª”æ¡ˆå‘½åè¦å‰‡</a></li><li><a href="#import-service" class="table-of-contents__link">Import service</a></li><li><a href="#nestjs-æ¦‚å¿µ" class="table-of-contents__link">Nestjs æ¦‚å¿µ</a></li><li><a href="#ç¨‹å¼é€²å…¥é»maints" class="table-of-contents__link">ç¨‹å¼é€²å…¥é»(main.ts)</a></li><li><a href="#é‡è·‘-migrations-çš„æ–¹æ³•" class="table-of-contents__link">é‡è·‘ migrations çš„æ–¹æ³•</a></li><li><a href="#class-validator" class="table-of-contents__link">Class-validator</a></li><li><a href="#ç›®çš„" class="table-of-contents__link">ç›®çš„</a></li><li><a href="#install-class-validator" class="table-of-contents__link">Install class-validator</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Local Link</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/docs/intro">Doc</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">About Me</div><ul class="footer__items"><li class="footer__item"><a href="mailto:oowe9564@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Gmail<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/aaron-chang-oowe/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/oowe" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022-2022 OOWE. Built with Docusaurus.</div></div></div></footer></div>
<script src="/blog/assets/js/runtime~main.79a68877.js"></script>
<script src="/blog/assets/js/main.6b04cab1.js"></script>
</body>
</html>